vbcc
parse
(top
  {}
  (file
    (group
      (func)
      (globalid 5:@main)
      (lparen)
      (rparen)
      (:)
      (i32)
      (localid 2:$x)
      (=)
      (const)
      (i32)
      (int 1:2)
      (localid 2:$r)
      (=)
      (ref)
      (localid 2:$x)
      (localid 5:$val1)
      (=)
      (const)
      (i32)
      (int 1:4)
      (localid 5:$old1)
      (=)
      (store)
      (localid 2:$r)
      (localid 5:$val1)
      (localid 5:$exp1)
      (=)
      (const)
      (i32)
      (int 1:2)
      (localid 4:$ok1)
      (=)
      (eq)
      (localid 5:$old1)
      (localid 5:$exp1)
      (localid 5:$val2)
      (=)
      (const)
      (i32)
      (int 1:6)
      (localid 5:$old2)
      (=)
      (store)
      (localid 2:$r)
      (localid 5:$val2)
      (localid 5:$exp2)
      (=)
      (const)
      (i32)
      (int 1:4)
      (localid 4:$ok2)
      (=)
      (eq)
      (localid 5:$old2)
      (localid 5:$exp2)
      (localid 6:$final)
      (=)
      (load)
      (localid 2:$r)
      (localid 10:$exp_final)
      (=)
      (const)
      (i32)
      (int 1:6)
      (localid 4:$ok3)
      (=)
      (eq)
      (localid 6:$final)
      (localid 10:$exp_final)
      (localid 4:$tmp)
      (=)
      (and)
      (localid 4:$ok1)
      (localid 4:$ok2)
      (localid 4:$all)
      (=)
      (and)
      (localid 4:$tmp)
      (localid 4:$ok3)
      (cond)
      (localid 4:$all)
      (labelid 3:^ok)
      (labelid 5:^fail)
      (labelid 3:^ok)
      (localid 4:$ret)
      (=)
      (const)
      (i32)
      (int 1:0)
      (ret)
      (localid 4:$ret)
      (labelid 5:^fail)
      (localid 4:$ret)
      (=)
      (const)
      (i32)
      (int 2:-1)
      (ret)
      (localid 4:$ret))))
