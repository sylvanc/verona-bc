=================================================================
==604==ERROR: AddressSanitizer: heap-use-after-free on address 0x5030001548a0 at pc 0x5a3057580ab5 bp 0x7849af3faae0 sp 0x7849af3faad0
READ of size 8 at 0x5030001548a0 thread T3
    #0 0x5a3057580ab4 in vbci::Header::base_dec(bool) /home/mjp41/verona-bc/vbci/header.h:187
    #1 0x5a3057582bbe in vbci::Object::dec(bool) /home/mjp41/verona-bc/vbci/object.h:94
    #2 0x5a305758aeef in vbci::Value::dec(bool) /home/mjp41/verona-bc/vbci/value.cc:683
    #3 0x5a305758b88e in vbci::Value::field_drop() /home/mjp41/verona-bc/vbci/value.cc:782
    #4 0x5a30574ae82e in vbci::Object::finalize() /home/mjp41/verona-bc/vbci/object.h:179
    #5 0x5a3057582bfa in vbci::Object::dec(bool) /home/mjp41/verona-bc/vbci/object.h:99
    #6 0x5a305758aeef in vbci::Value::dec(bool) /home/mjp41/verona-bc/vbci/value.cc:683
    #7 0x5a305758b88e in vbci::Value::field_drop() /home/mjp41/verona-bc/vbci/value.cc:782
    #8 0x5a30574ae82e in vbci::Object::finalize() /home/mjp41/verona-bc/vbci/object.h:179
    #9 0x5a30574afb01 in vbci::RegionRC::free_contents() /home/mjp41/verona-bc/vbci/region_rc.cc:59
    #10 0x5a30572205b5 in vbci::Region::free_region() /home/mjp41/verona-bc/vbci/region.h:130
    #11 0x5a305721f2fe in vbci::Region::stack_dec() /home/mjp41/verona-bc/vbci/region.h:47
    #12 0x5a3057581049 in vbci::Header::base_dec(bool) /home/mjp41/verona-bc/vbci/header.h:204
    #13 0x5a3057582bbe in vbci::Object::dec(bool) /home/mjp41/verona-bc/vbci/object.h:94
    #14 0x5a305758aeef in vbci::Value::dec(bool) /home/mjp41/verona-bc/vbci/value.cc:683
    #15 0x5a305758b7c0 in vbci::Value::drop() /home/mjp41/verona-bc/vbci/value.cc:776
    #16 0x5a3057209bf0 in vbci::Frame::drop() /home/mjp41/verona-bc/vbci/frame.cc:81
    #17 0x5a30574ff1b7 in vbci::Thread::teardown(bool) /home/mjp41/verona-bc/vbci/thread.cc:1018
    #18 0x5a30574fdfa0 in vbci::Thread::popframe(vbci::Value&, vbci::Condition) /home/mjp41/verona-bc/vbci/thread.cc:927
    #19 0x5a30574f11ad in vbci::Thread::step() /home/mjp41/verona-bc/vbci/thread.cc:649
    #20 0x5a30574e4dc9 in vbci::Thread::thread_run(vbci::Function*) /home/mjp41/verona-bc/vbci/thread.cc:99
    #21 0x5a30574e4bd9 in vbci::Thread::thread_run_behavior(verona::rt::Work*) /home/mjp41/verona-bc/vbci/thread.cc:88
    #22 0x5a30574e3ed0 in vbci::Thread::run_behavior(verona::rt::Work*) /home/mjp41/verona-bc/vbci/thread.cc:50
    #23 0x5a30573e1971 in verona::rt::Work::run() /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/work.h:34
    #24 0x5a305744e56a in void verona::rt::SchedulerThread::run_inner<>(void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/schedulerthread.h:213
    #25 0x5a305743eef6 in void verona::rt::SchedulerThread::run<>(verona::rt::SchedulerThread*, void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/schedulerthread.h:115
    #26 0x5a305744eb69 in void verona::rt::ThreadPoolBuilder::run_with_affinity<verona::rt::SchedulerThread*, void (*)()>(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/pal/threadpoolbuilder.h:39
    #27 0x5a30574a884a in void std::__invoke_impl<void, void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()>(std::__invoke_other, void (*&&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&&, void (*&&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&&, void (*&&)()) /usr/include/c++/13/bits/invoke.h:61
    #28 0x5a30574a217a in std::__invoke_result<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()>::type std::__invoke<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()>(void (*&&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&&, void (*&&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&&, void (*&&)()) /usr/include/c++/13/bits/invoke.h:96
    #29 0x5a3057486a57 in void std::thread::_Invoker<std::tuple<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul>) /usr/include/c++/13/bits/std_thread.h:292
    #30 0x5a3057483d79 in std::thread::_Invoker<std::tuple<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()> >::operator()() /usr/include/c++/13/bits/std_thread.h:299
    #31 0x5a30574790ad in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()> > >::_M_run() /usr/include/c++/13/bits/std_thread.h:244
    #32 0x7849b3eecdb3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xecdb3) (BuildId: ca77dae775ec87540acd7218fa990c40d1c94ab1)
    #33 0x7849b485ea41 in asan_thread_start ../../../../src/libsanitizer/asan/asan_interceptors.cpp:234
    #34 0x7849b329caa3  (/lib/x86_64-linux-gnu/libc.so.6+0x9caa3) (BuildId: 274eec488d230825a136fa9c4d85370fed7a0a5e)
    #35 0x7849b3329c6b  (/lib/x86_64-linux-gnu/libc.so.6+0x129c6b) (BuildId: 274eec488d230825a136fa9c4d85370fed7a0a5e)

0x5030001548a0 is located 0 bytes inside of 17-byte region [0x5030001548a0,0x5030001548b1)
freed by thread T3 here:
    #0 0x7849b48ff1f8 in operator delete[](void*) ../../../../src/libsanitizer/asan/asan_new_delete.cpp:155
    #1 0x5a30574af2af in vbci::RegionRC::rfree(vbci::Header*) /home/mjp41/verona-bc/vbci/region_rc.cc:32
    #2 0x5a3057582e97 in vbci::Object::dec(bool) /home/mjp41/verona-bc/vbci/object.h:104
    #3 0x5a305758aeef in vbci::Value::dec(bool) /home/mjp41/verona-bc/vbci/value.cc:683
    #4 0x5a305758b88e in vbci::Value::field_drop() /home/mjp41/verona-bc/vbci/value.cc:782
    #5 0x5a30574ae82e in vbci::Object::finalize() /home/mjp41/verona-bc/vbci/object.h:179
    #6 0x5a30574afb01 in vbci::RegionRC::free_contents() /home/mjp41/verona-bc/vbci/region_rc.cc:59
    #7 0x5a30572205b5 in vbci::Region::free_region() /home/mjp41/verona-bc/vbci/region.h:130
    #8 0x5a305721f2fe in vbci::Region::stack_dec() /home/mjp41/verona-bc/vbci/region.h:47
    #9 0x5a3057581049 in vbci::Header::base_dec(bool) /home/mjp41/verona-bc/vbci/header.h:204
    #10 0x5a3057582bbe in vbci::Object::dec(bool) /home/mjp41/verona-bc/vbci/object.h:94
    #11 0x5a305758aeef in vbci::Value::dec(bool) /home/mjp41/verona-bc/vbci/value.cc:683
    #12 0x5a305758b7c0 in vbci::Value::drop() /home/mjp41/verona-bc/vbci/value.cc:776
    #13 0x5a3057209bf0 in vbci::Frame::drop() /home/mjp41/verona-bc/vbci/frame.cc:81
    #14 0x5a30574ff1b7 in vbci::Thread::teardown(bool) /home/mjp41/verona-bc/vbci/thread.cc:1018
    #15 0x5a30574fdfa0 in vbci::Thread::popframe(vbci::Value&, vbci::Condition) /home/mjp41/verona-bc/vbci/thread.cc:927
    #16 0x5a30574f11ad in vbci::Thread::step() /home/mjp41/verona-bc/vbci/thread.cc:649
    #17 0x5a30574e4dc9 in vbci::Thread::thread_run(vbci::Function*) /home/mjp41/verona-bc/vbci/thread.cc:99
    #18 0x5a30574e4bd9 in vbci::Thread::thread_run_behavior(verona::rt::Work*) /home/mjp41/verona-bc/vbci/thread.cc:88
    #19 0x5a30574e3ed0 in vbci::Thread::run_behavior(verona::rt::Work*) /home/mjp41/verona-bc/vbci/thread.cc:50
    #20 0x5a30573e1971 in verona::rt::Work::run() /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/work.h:34
    #21 0x5a305744e56a in void verona::rt::SchedulerThread::run_inner<>(void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/schedulerthread.h:213
    #22 0x5a305743eef6 in void verona::rt::SchedulerThread::run<>(verona::rt::SchedulerThread*, void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/schedulerthread.h:115
    #23 0x5a305744eb69 in void verona::rt::ThreadPoolBuilder::run_with_affinity<verona::rt::SchedulerThread*, void (*)()>(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/pal/threadpoolbuilder.h:39
    #24 0x5a30574a884a in void std::__invoke_impl<void, void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()>(std::__invoke_other, void (*&&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&&, void (*&&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&&, void (*&&)()) /usr/include/c++/13/bits/invoke.h:61
    #25 0x5a30574a217a in std::__invoke_result<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()>::type std::__invoke<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()>(void (*&&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&&, void (*&&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&&, void (*&&)()) /usr/include/c++/13/bits/invoke.h:96
    #26 0x5a3057486a57 in void std::thread::_Invoker<std::tuple<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul>) /usr/include/c++/13/bits/std_thread.h:292
    #27 0x5a3057483d79 in std::thread::_Invoker<std::tuple<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()> >::operator()() /usr/include/c++/13/bits/std_thread.h:299
    #28 0x5a30574790ad in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()> > >::_M_run() /usr/include/c++/13/bits/std_thread.h:244
    #29 0x7849b3eecdb3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xecdb3) (BuildId: ca77dae775ec87540acd7218fa990c40d1c94ab1)

previously allocated by thread T3 here:
    #0 0x7849b48fe6c8 in operator new[](unsigned long) ../../../../src/libsanitizer/asan/asan_new_delete.cpp:98
    #1 0x5a30574aea0d in vbci::RegionRC::object(vbci::Class&) /home/mjp41/verona-bc/vbci/region_rc.cc:10
    #2 0x5a30574e89fd in vbci::Thread::step() /home/mjp41/verona-bc/vbci/thread.cc:277
    #3 0x5a30574e4dc9 in vbci::Thread::thread_run(vbci::Function*) /home/mjp41/verona-bc/vbci/thread.cc:99
    #4 0x5a30574e4bd9 in vbci::Thread::thread_run_behavior(verona::rt::Work*) /home/mjp41/verona-bc/vbci/thread.cc:88
    #5 0x5a30574e3ed0 in vbci::Thread::run_behavior(verona::rt::Work*) /home/mjp41/verona-bc/vbci/thread.cc:50
    #6 0x5a30573e1971 in verona::rt::Work::run() /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/work.h:34
    #7 0x5a305744e56a in void verona::rt::SchedulerThread::run_inner<>(void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/schedulerthread.h:213
    #8 0x5a305743eef6 in void verona::rt::SchedulerThread::run<>(verona::rt::SchedulerThread*, void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/schedulerthread.h:115
    #9 0x5a305744eb69 in void verona::rt::ThreadPoolBuilder::run_with_affinity<verona::rt::SchedulerThread*, void (*)()>(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/pal/threadpoolbuilder.h:39
    #10 0x5a30574a884a in void std::__invoke_impl<void, void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()>(std::__invoke_other, void (*&&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&&, void (*&&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&&, void (*&&)()) /usr/include/c++/13/bits/invoke.h:61
    #11 0x5a30574a217a in std::__invoke_result<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()>::type std::__invoke<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()>(void (*&&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&&, void (*&&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&&, void (*&&)()) /usr/include/c++/13/bits/invoke.h:96
    #12 0x5a3057486a57 in void std::thread::_Invoker<std::tuple<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()> >::_M_invoke<0ul, 1ul, 2ul, 3ul, 4ul>(std::_Index_tuple<0ul, 1ul, 2ul, 3ul, 4ul>) /usr/include/c++/13/bits/std_thread.h:292
    #13 0x5a3057483d79 in std::thread::_Invoker<std::tuple<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()> >::operator()() /usr/include/c++/13/bits/std_thread.h:299
    #14 0x5a30574790ad in std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()> > >::_M_run() /usr/include/c++/13/bits/std_thread.h:244
    #15 0x7849b3eecdb3  (/lib/x86_64-linux-gnu/libstdc++.so.6+0xecdb3) (BuildId: ca77dae775ec87540acd7218fa990c40d1c94ab1)
    #16 0x7849b485ea41 in asan_thread_start ../../../../src/libsanitizer/asan/asan_interceptors.cpp:234
    #17 0x7849b329caa3  (/lib/x86_64-linux-gnu/libc.so.6+0x9caa3) (BuildId: 274eec488d230825a136fa9c4d85370fed7a0a5e)

Thread T3 created by T0 here:
    #0 0x7849b48f51f9 in pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cpp:245
    #1 0x7849b3eeceb0 in std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) (/lib/x86_64-linux-gnu/libstdc++.so.6+0xeceb0) (BuildId: ca77dae775ec87540acd7218fa990c40d1c94ab1)
    #2 0x5a3057473c4e in std::thread::thread<void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)(), void>(void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()) /usr/include/c++/13/bits/std_thread.h:164
    #3 0x5a305747297e in decltype (::new ((void*)(0)) std::thread((declval<void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)())>)(), (declval<unsigned long&>)(), (declval<void (*&)(verona::rt::SchedulerThread*, void (*)())>)(), (declval<verona::rt::SchedulerThread*&>)(), (declval<void (*&)()>)())) std::construct_at<std::thread, void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()>(std::thread*, void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()) /usr/include/c++/13/bits/stl_construct.h:97
    #4 0x5a305746bf48 in void std::allocator_traits<std::allocator<std::_List_node<std::thread> > >::construct<std::thread, void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()>(std::allocator<std::_List_node<std::thread> >&, std::thread*, void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()) /usr/include/c++/13/bits/alloc_traits.h:540
    #5 0x5a305746bf48 in std::_List_node<std::thread>* std::__cxx11::list<std::thread, std::allocator<std::thread> >::_M_create_node<void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()>(void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()) /usr/include/c++/13/bits/stl_list.h:713
    #6 0x5a305746543a in void std::__cxx11::list<std::thread, std::allocator<std::thread> >::_M_insert<void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()>(std::_List_iterator<std::thread>, void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()) /usr/include/c++/13/bits/stl_list.h:2005
    #7 0x5a305745bd03 in std::thread& std::__cxx11::list<std::thread, std::allocator<std::thread> >::emplace_back<void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()>(void (*&)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long&, void (*&)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*&, void (*&)()) /usr/include/c++/13/bits/stl_list.h:1321
    #8 0x5a305744ee3d in void verona::rt::ThreadPoolBuilder::add_thread_impl<unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()>(void (*)(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()), unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/pal/threadpoolbuilder.h:25
    #9 0x5a305743ef6b in void verona::rt::ThreadPoolBuilder::add_thread<verona::rt::SchedulerThread*, void (*)()>(unsigned long, void (*)(verona::rt::SchedulerThread*, void (*)()), verona::rt::SchedulerThread*, void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/pal/threadpoolbuilder.h:61
    #10 0x5a3057428bce in void verona::rt::ThreadPool<verona::rt::SchedulerThread>::run_with_startup<>(void (*)()) /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/threadpool.h:241
    #11 0x5a305740f609 in verona::rt::ThreadPool<verona::rt::SchedulerThread>::run() /home/mjp41/verona-bc/build/_deps/verona-rt-src/src/rt/sched/threadpool.h:222
    #12 0x5a30573ebd37 in vbci::Program::run(std::filesystem::__cxx11::path&, unsigned long, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > >) /home/mjp41/verona-bc/vbci/program.cc:171
    #13 0x5a3057310f07 in main /home/mjp41/verona-bc/vbci/main.cc:44
    #14 0x7849b322a1c9  (/lib/x86_64-linux-gnu/libc.so.6+0x2a1c9) (BuildId: 274eec488d230825a136fa9c4d85370fed7a0a5e)
    #15 0x7849b322a28a in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x2a28a) (BuildId: 274eec488d230825a136fa9c4d85370fed7a0a5e)
    #16 0x5a30571e8a14 in _start (/home/mjp41/verona-bc/build/vbci/vbci+0x581a14) (BuildId: b23a3d9a49887c4342b22b23d54e081675984afe)

SUMMARY: AddressSanitizer: heap-use-after-free /home/mjp41/verona-bc/vbci/header.h:187 in vbci::Header::base_dec(bool)
Shadow bytes around the buggy address:
  0x503000154600: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x503000154680: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x503000154700: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x503000154780: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x503000154800: fa fa fd fd fd fd fa fa fd fd fd fd fa fa 00 00
=>0x503000154880: 00 00 fa fa[fd]fd fd fa fa fa 00 00 00 fa fa fa
  0x503000154900: 00 00 00 fa fa fa fd fd fd fa fa fa fa fa fa fa
  0x503000154980: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x503000154a00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x503000154a80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x503000154b00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==604==ABORTING
